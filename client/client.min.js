/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 @license  MIT
*/
var $jscomp$templatelit$15=["\x3cdiv\x3e\n      You have to guess #","\u2019s ","! Soooo, ","! Is it:\n      \x3col\x3e\n      ","\n      \x3c/ol\x3e\n  \x3c/div\x3e"];$jscomp$templatelit$15.raw=["\x3cdiv\x3e\n      You have to guess #","\u2019s ","! Soooo, ","! Is it:\n      \x3col\x3e\n      ","\n      \x3c/ol\x3e\n  \x3c/div\x3e"];var $jscomp$templatelit$14=["\x3cli\x3e","","\x3c/li\x3e"];$jscomp$templatelit$14.raw=["\x3cli\x3e","","\x3c/li\x3e"];var $jscomp$templatelit$13=["\x3cli\x3e","","\x3c/li\x3e"];
$jscomp$templatelit$13.raw=["\x3cli\x3e","","\x3c/li\x3e"];var $jscomp$templatelit$12=["\x3cli\x3e","","\x3c/li\x3e"];$jscomp$templatelit$12.raw=["\x3cli\x3e","","\x3c/li\x3e"];var $jscomp$templatelit$11=["\x3cbutton choo-num\x3d"," onclick\x3d","\x3ex\x3c/button\x3e"];$jscomp$templatelit$11.raw=["\x3cbutton choo-num\x3d"," onclick\x3d","\x3ex\x3c/button\x3e"];var $jscomp$templatelit$10=["\x3cdiv\x3e","\n  ","\n  \x3c/div\x3e"];$jscomp$templatelit$10.raw=["\x3cdiv\x3e","\n  ","\n  \x3c/div\x3e"];
var $jscomp$templatelit$9=["\x3cul\x3e\n  ","\n  \x3c/ul\x3e"];$jscomp$templatelit$9.raw=["\x3cul\x3e\n  ","\n  \x3c/ul\x3e"];var $jscomp$templatelit$8='\x3cli class\x3d"; ;"\x3e\n      \n      \x3cbutton choo-num\x3d; onclick\x3d;\x3eStudy\x3c/button\x3e\n      \n      ;\n      \n      \x3c/li\x3e'.split(";");$jscomp$templatelit$8.raw='\x3cli class\x3d"; ;"\x3e\n      \n      \x3cbutton choo-num\x3d; onclick\x3d;\x3eStudy\x3c/button\x3e\n      \n      ;\n      \n      \x3c/li\x3e'.split(";");
var $jscomp$templatelit$7=["\x3cspan\x3e","\x3c/span\x3e"];$jscomp$templatelit$7.raw=["\x3cspan\x3e","\x3c/span\x3e"];var $jscomp$templatelit$6=["\x3cruby\x3e","\x3crt\x3e","\x3c/rt\x3e\x3c/ruby\x3e"];$jscomp$templatelit$6.raw=["\x3cruby\x3e","\x3crt\x3e","\x3c/rt\x3e\x3c/ruby\x3e"];var $jscomp$templatelit$5="\x3cdiv\x3e\n  \x3cp\x3e\n  Remember this! \x3cbig\x3e;\x3c/big\x3e means: \x3cem\x3e;\x3c/em\x3e.\n  \x3cul\x3e\n    \x3cli\x3eRoumaji: ;\x3c/li\x3e\n    \x3cli\x3eFrequency: ; per million\x3c/li\x3e\n    \x3cli\x3e#;\x3c/li\x3e\n    \x3cli\x3eDispersion: ;\x3c/li\x3e\n    ;\n  \x3c/ul\x3e\n  \x3c/p\x3e\n  \x3cp\x3e\n  \x3cbutton onclick\x3d;\x3eI HAVE LEARNED THIS!\x3c/button\x3e\n  Or\u2026 skip learning this fact?\n  Jump to \x3cbutton onclick\x3d;\x3ePrevious\x3c/button\x3e or\n  \x3cbutton onclick\x3d;\x3eNext\x3c/button\x3e unlearned + unskipped fact.\n  \x3c/p\x3e\n\n  \x3c/div\x3e".split(";");
$jscomp$templatelit$5.raw="\x3cdiv\x3e\n  \x3cp\x3e\n  Remember this! \x3cbig\x3e;\x3c/big\x3e means: \x3cem\x3e;\x3c/em\x3e.\n  \x3cul\x3e\n    \x3cli\x3eRoumaji: ;\x3c/li\x3e\n    \x3cli\x3eFrequency: ; per million\x3c/li\x3e\n    \x3cli\x3e#;\x3c/li\x3e\n    \x3cli\x3eDispersion: ;\x3c/li\x3e\n    ;\n  \x3c/ul\x3e\n  \x3c/p\x3e\n  \x3cp\x3e\n  \x3cbutton onclick\x3d;\x3eI HAVE LEARNED THIS!\x3c/button\x3e\n  Or\u2026 skip learning this fact?\n  Jump to \x3cbutton onclick\x3d;\x3ePrevious\x3c/button\x3e or\n  \x3cbutton onclick\x3d;\x3eNext\x3c/button\x3e unlearned + unskipped fact.\n  \x3c/p\x3e\n\n  \x3c/div\x3e".split(";");
var $jscomp$templatelit$4=["\x3cli\x3e\n  Top word in the \x3cem\x3e","\x3c/em\x3e register.\n  \x3c/li\x3e"];$jscomp$templatelit$4.raw=["\x3cli\x3e\n  Top word in the \x3cem\x3e","\x3c/em\x3e register.\n  \x3c/li\x3e"];var $jscomp$templatelit$3="\x3cdiv\x3e\n  \x3cbutton onclick\x3d;\x3eTell me what to do\x3c/button\x3e\n  \x3cbutton onclick\x3d;\x3eLearn me\x3c/button\x3e\n  \x3cbutton onclick\x3d;\x3eQuiz me\x3c/button\x3e\n  \x3cbutton onclick\x3d;\x3eShow all\x3c/button\x3e\n  ;\n  ;\n  \x3c/div\x3e".split(";");
$jscomp$templatelit$3.raw="\x3cdiv\x3e\n  \x3cbutton onclick\x3d;\x3eTell me what to do\x3c/button\x3e\n  \x3cbutton onclick\x3d;\x3eLearn me\x3c/button\x3e\n  \x3cbutton onclick\x3d;\x3eQuiz me\x3c/button\x3e\n  \x3cbutton onclick\x3d;\x3eShow all\x3c/button\x3e\n  ;\n  ;\n  \x3c/div\x3e".split(";");var $jscomp$templatelit$2=['\x3cp\x3e\n  \x3csmall\x3e\x3ca href\x3d"https://github.com/fasiha/5kore"\x3eAbout\x3c/a\x3e\x3c/small\x3e\n  \x3c/p\x3e'];$jscomp$templatelit$2.raw=['\x3cp\x3e\n  \x3csmall\x3e\x3ca href\x3d"https://github.com/fasiha/5kore"\x3eAbout\x3c/a\x3e\x3c/small\x3e\n  \x3c/p\x3e'];
var $jscomp$templatelit$1=["\x3cdiv\x3eInitializing the fun\u2026\x3c/div\x3e"];$jscomp$templatelit$1.raw=["\x3cdiv\x3eInitializing the fun\u2026\x3c/div\x3e"];var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(q,a,f){if(f.get||f.set)throw new TypeError("ES3 does not support getters and setters.");q!=Array.prototype&&q!=Object.prototype&&(q[a]=f.value)};
$jscomp.getGlobal=function(q){return"undefined"!=typeof window&&window===q?q:"undefined"!=typeof global&&null!=global?global:q};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(q){return $jscomp.SYMBOL_PREFIX+(q||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var q=$jscomp.global.Symbol.iterator;q||(q=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[q]&&$jscomp.defineProperty(Array.prototype,q,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(q){var a=0;return $jscomp.iteratorPrototype(function(){return a<q.length?{done:!1,value:q[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(q){$jscomp.initSymbolIterator();q={next:q};q[$jscomp.global.Symbol.iterator]=function(){return this};return q};$jscomp.makeIterator=function(q){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=q[Symbol.iterator];return a?a.call(q):$jscomp.arrayIterator(q)};
$jscomp.iteratorFromArray=function(q,a){$jscomp.initSymbolIterator();q instanceof String&&(q+="");var f=0,d={next:function(){if(f<q.length){var k=f++;return{value:a(k,q[k]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(q,a,f,d){if(a){f=$jscomp.global;q=q.split(".");for(d=0;d<q.length-1;d++){var k=q[d];k in f||(f[k]={});f=f[k]}q=q[q.length-1];d=f[q];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(f,q,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Array.prototype.values",function(q){return q?q:function(){return $jscomp.iteratorFromArray(this,function(a,f){return f})}},"es6","es3");$jscomp.owns=function(q,a){return Object.prototype.hasOwnProperty.call(q,a)};
$jscomp.polyfill("WeakMap",function(q){function a(e){$jscomp.owns(e,d)||$jscomp.defineProperty(e,d,{value:{}})}function f(e){var b=Object[e];b&&(Object[e]=function(c){a(c);return b(c)})}if(function(){if(!q||!Object.seal)return!1;try{var e=Object.seal({}),b=Object.seal({}),c=new q([[e,2],[b,3]]);if(2!=c.get(e)||3!=c.get(b))return!1;c.delete(e);c.set(b,4);return!c.has(e)&&4==c.get(b)}catch(g){return!1}}())return q;var d="$jscomp_hidden_"+Math.random().toString().substring(2);f("freeze");f("preventExtensions");
f("seal");var k=0,m=function(e){this.id_=(k+=Math.random()+1).toString();if(e){$jscomp.initSymbol();$jscomp.initSymbolIterator();e=$jscomp.makeIterator(e);for(var b;!(b=e.next()).done;)b=b.value,this.set(b[0],b[1])}};m.prototype.set=function(e,b){a(e);if(!$jscomp.owns(e,d))throw Error("WeakMap key fail: "+e);e[d][this.id_]=b;return this};m.prototype.get=function(e){return $jscomp.owns(e,d)?e[d][this.id_]:void 0};m.prototype.has=function(e){return $jscomp.owns(e,d)&&$jscomp.owns(e[d],this.id_)};m.prototype.delete=
function(e){return $jscomp.owns(e,d)&&$jscomp.owns(e[d],this.id_)?delete e[d][this.id_]:!1};return m},"es6-impl","es3");$jscomp.MapEntry=function(){};$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(q){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!q||!q.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new q($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var g=c.entries(),e=g.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=g.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!g.next().done?!1:!0}catch(x){return!1}}())return q;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var a=new WeakMap,f=function(b){this.data_={};this.head_=m();this.size=0;if(b){b=$jscomp.makeIterator(b);for(var c;!(c=b.next()).done;)c=c.value,this.set(c[0],c[1])}};f.prototype.set=function(b,c){var g=d(this,b);g.list||(g.list=this.data_[g.id]=[]);g.entry?g.entry.value=c:(g.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:b,value:c},g.list.push(g.entry),this.head_.previous.next=g.entry,this.head_.previous=g.entry,this.size++);return this};f.prototype.delete=
function(b){b=d(this,b);return b.entry&&b.list?(b.list.splice(b.index,1),b.list.length||delete this.data_[b.id],b.entry.previous.next=b.entry.next,b.entry.next.previous=b.entry.previous,b.entry.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=m();this.size=0};f.prototype.has=function(b){return!!d(this,b).entry};f.prototype.get=function(b){return(b=d(this,b).entry)&&b.value};f.prototype.entries=function(){return k(this,function(b){return[b.key,
b.value]})};f.prototype.keys=function(){return k(this,function(b){return b.key})};f.prototype.values=function(){return k(this,function(b){return b.value})};f.prototype.forEach=function(b,c){for(var g=this.entries(),e;!(e=g.next()).done;)e=e.value,b.call(c,e[1],e[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var d=function(b,c){var g=c&&typeof c;"object"==g||"function"==g?a.has(c)?g=a.get(c):(g=""+ ++e,a.set(c,g)):g="p_"+c;var r=b.data_[g];if(r&&$jscomp.owns(b.data_,g))for(b=0;b<r.length;b++){var f=
r[b];if(c!==c&&f.key!==f.key||c===f.key)return{id:g,list:r,index:b,entry:f}}return{id:g,list:r,index:-1,entry:void 0}},k=function(b,c){var g=b.head_;return $jscomp.iteratorPrototype(function(){if(g){for(;g.head!=b.head_;)g=g.previous;for(;g.next!=g.head;)return g=g.next,{done:!1,value:c(g)};g=null}return{done:!0,value:void 0}})},m=function(){var b={};return b.previous=b.next=b.head=b},e=0;return f},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.polyfill("Set",function(q){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!q||!q.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),d=new q($jscomp.makeIterator([a]));if(!d.has(a)||1!=d.size||d.add(a)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var k=d.entries(),m=k.next();if(m.done||m.value[0]!=a||m.value[1]!=a)return!1;m=k.next();return m.done||m.value[0]==a||4!=m.value[0].x||m.value[1]!=m.value[0]?!1:k.next().done}catch(e){return!1}}())return q;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var d;!(d=a.next()).done;)this.add(d.value)}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};
a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(a,d){var k=this;this.map_.forEach(function(m){return a.call(d,m,m,k)})};return a},"es6-impl","es3");
$jscomp.polyfill("Array.from",function(q){return q?q:function(a,f,d){$jscomp.initSymbolIterator();f=null!=f?f:function(b){return b};var k=[],m=a[Symbol.iterator];if("function"==typeof m)for(a=m.call(a);!(m=a.next()).done;)k.push(f.call(d,m.value));else for(var m=a.length,e=0;e<m;e++)k.push(f.call(d,a[e]));return k}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.keys",function(q){return q?q:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
(function(q){"object"===typeof exports&&"undefined"!==typeof module?module.exports=q():"function"===typeof define&&define.amd?define([],q):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).client=q()})(function(){return function a(f,d,k){function m(c,b){if(!d[c]){if(!f[c]){var g="function"==typeof require&&require;if(!b&&g)return g(c,!0);if(e)return e(c,!0);b=Error("Cannot find module '"+c+"'");throw b.code="MODULE_NOT_FOUND",b;}b=d[c]={exports:{}};
f[c][0].call(b.exports,function(b){var a=f[c][1][b];return m(a?a:b)},b,b.exports,a,f,d,k)}return d[c].exports}for(var e="function"==typeof require&&require,b=0;b<k.length;b++)m(k[b]);return m}({1:[function(a,f,d){function k(b){for(var c=$jscomp.makeIterator("n. v. adj. adv. pron. adn.".split(" ")),a=c.next();!a.done;a=c.next())if(0<=b.meaning.indexOf(a.value))return!0;return!1}function m(b){p.connect().then(function(b){v=b;n=b.getSchema().table("Fact");w=b.getSchema().table("Quiz");return v.select(lf.fn.count(n.num)).from(n).exec()}).then(function(b){return 0===
b[0]["COUNT(num)"]?(console.log("No facts found, populating"),b=tono.map(function(b){return n.createRow({num:b.num,skipped:!k(b),started:!1,lastQuizTime:null})}),v.insert().into(n).values(b).exec()):!0}).then(function(){v.select().from(n).where(n.skipped.eq(!0)).exec().then(function(c){return b("skippedList",new Set(c.map(function(b){return b.num})))});v.select().from(n).where(n.started.eq(!0)).exec().then(function(c){return b("startedList",new Map(c.map(function(b){return[b.num,{recallObject:b.recallObject,
lastQuizTime:b.lastQuizTime}]})))});return!0}).then(function(){b("seeAll")});return u($jscomp$templatelit$1)}function e(c,a){var e=tono[c-1],g=e.register?u($jscomp$templatelit$4,B[e.register]):"";return u($jscomp$templatelit$5,b(e),e.meaning,e.roumaji,e.freq,e.num,e.disp,g,function(){a("doneLearning")},function(){a("previousLearnable",c)},function(){a("nextLearnable",c)})}function b(b){var c=b.readings.join("/");return 0<b.kanjis.length?(b=b.kanjis.join("/"),u($jscomp$templatelit$6,b,c)):u($jscomp$templatelit$7,
c)}function c(c,a){function e(b){a("learnFact",+b.target.getAttribute("choo-num"))}var g=tono.map(function(a){return u($jscomp$templatelit$8,c.skippedNums.has(a.num)?"skipped":"learnable",c.startedNums.has(a.num)?"started":"unstarted",a.num,e,b(a))});return u($jscomp$templatelit$9,g)}function g(b,c){return u($jscomp$templatelit$10,c===b[0]?"\ud83d\ude4c congrats!":"\ud83d\udca9",JSON.stringify(tono[b[0]-1]))}function r(b,c){function a(b){b=b.target.getAttribute("choo-num");c("proposeAnswer",+b)}b=
$jscomp.makeIterator(b);var e=b.next().value;b=b.next().value;var A=tono[e-1],g=0<A.kanjis.length,g="kanjis"===b?A.readings.join("/")+" ("+A.meaning+")":"readings"===b?(g?A.kanjis.join("/"):"")+" ("+A.meaning+")":(g?A.kanjis.join("/")+"; ":"")+A.readings.join("/");if("kanjis"===b){var l=Array.from(Array(4),function(){var b=tono;a:{var c=e;for("undefined"===typeof c&&(c=-1);;){var a=t(tono.length);if(0<tono[a].kanjis.length&&tono[a].num!==c)break a}}return b[a]});l.push(A);h(l);A=l.map(function(b){return u($jscomp$templatelit$12,
u($jscomp$templatelit$11,b.num,a),b.kanjis.join("/"))})}else l=Array.from(Array(4),function(){var b=tono;a:{var c=tono.length,a=e;for("undefined"===typeof a&&(a=-1);;){var g=t(c);if(g!==a)break a}}return b[g]}),l.push(A),h(l),A="readings"===b?l.map(function(b){return u($jscomp$templatelit$13,u($jscomp$templatelit$11,b.num,a),b.readings.join("/"))}):l.map(function(b){return u($jscomp$templatelit$14,u($jscomp$templatelit$11,b.num,a),b.meaning)});return u($jscomp$templatelit$15,e,b,g,A)}function x(b){var c=
!1,a=1.1,e=-1;b=$jscomp.makeIterator(b);for(var g=b.next();!g.done;g=b.next()){var D=$jscomp.makeIterator(g.value),g=D.next().value,D=D.next().value,D=ebisu.predictRecall(D.recallObject,(new Date-D.lastQuizTime)/36E5);D<a&&(a=D,e=g,c=!0)}return{numMinRecallProb:e,minRecallProb:a,minFound:c}}function l(b){var c=["readings","meaning"];tono[b-1].kanjis.length&&c.push("kanjis");return c[t(c.length)]}function h(b){for(var c=b.length-1;0<c;--c){var a=t(c+1),e=b[c];b[c]=b[a];b[a]=e}}function t(b){return Math.floor(Math.random()*
b)}d=a("choo");var u=a("choo/html");a=d();var y=[4,4,.25],p=lf.schema.create("5kore",1);p.createTable("Fact").addColumn("num",lf.Type.NUMBER).addColumn("lastQuizTime",lf.Type.DATE_TIME).addColumn("recallObject",lf.Type.OBJECT).addColumn("skipped",lf.Type.BOOLEAN).addColumn("started",lf.Type.BOOLEAN).addPrimaryKey(["num"]).addNullable(["lastQuizTime","recallObject"]);p.createTable("Quiz").addColumn("num",lf.Type.NUMBER).addColumn("date",lf.Type.DATE_TIME).addColumn("result",lf.Type.BOOLEAN).addColumn("proposedAnswer",
lf.Type.OBJECT).addPrimaryKey(["date"]).addForeignKey("fk_NumQuiz",{local:"num",ref:"Fact.num"});var v,n,w;a.use(function(b,c){function a(b){return function(a){b(a);c.emit("render")}}function e(b,c,a,e,g){v.insert().into(w).values([w.createRow({num:b,date:a,result:e,proposedAnswer:g||null})]).exec().catch(function(b){return console.log("ERROR updating quizTable:",b)});v.update(n).set(n.started,!0).set(n.recallObject,c).set(n.lastQuizTime,a).where(n.num.eq(b)).exec().catch(function(b){return console.log("ERROR updating factTable:",
b)})}function g(b,c,a,e){b=b||1;for(var g=b+e;0<g&&g<=tono.length;g+=e)if(!c.has(g)&&!a.has(g))return g;return b}b.quiz=null;b.answered=null;b.page="init";b.learning=null;b.skippedNums=new Set([]);b.startedNums=new Map([]);c.on("pickedQuiz",a(function(c){c.found?(b.quiz=[c.num,c.topic],b.answered=null,b.page="quiz"):console.log("No quizzes possible! Learn someting first!")}));c.on("clearQuiz",a(function(c){return b.quiz=null}));c.on("proposeAnswer",a(function(c){var a=b.quiz[0],g=new Date,A=a===c,
h=ebisu.updateRecall(b.startedNums.get(a).recallObject,A,(new Date-b.startedNums.get(a).lastQuizTime)/36E5);e(b.quiz[0],h,g,A,c);b.startedNums.set(a,{recallObject:h,lastQuizTime:g});b.answered=c;b.page="answered"}));c.on("seeAll",a(function(){b.page="showall"}));c.on("learnFact",a(function(c){b.page="learn";b.learning=c}));c.on("doneLearning",a(function(){var a=new Date;e(b.learning,y,a,!0);b.startedNums.set(b.learning,{recallObject:y,lastQuizTime:a});c.emit("nextLearnable")}));c.on("quizOrLearn",
a(function(){var a=x(b.startedNums),g=a.numMinRecallProb,e=a.minRecallProb;"learn"===(a.minFound&&.5>e?"quiz":"learn")?(b.page="learn",c.emit("nextLearnable",1)):c.emit("pickedQuiz",{found:!0,num:g,topic:l(g)})}));c.on("previousLearnable",a(function(c){b.page="learn";b.learning=g(c,b.skippedNums,b.startedNums,-1)}));c.on("nextLearnable",a(function(c){b.page="learn";b.learning=g(c,b.skippedNums,b.startedNums,1)}));c.on("skippedList",a(function(c){b.skippedNums=c}));c.on("startedList",a(function(c){b.startedNums=
c}))});a.route("*",function(b,a){console.log(b);var h;"quiz"===b.page?h=r(b.quiz,a):"answered"===b.page?h=g(b.quiz,b.answered):"showall"===b.page?h=c(b,a):"learn"===b.page?h=e(b.learning,a):"init"===b.page&&(h=m(a));var t=u($jscomp$templatelit$2);return u($jscomp$templatelit$3,function(b){a("quizOrLearn")},function(b){a("nextLearnable",1)},function(c){c=x(b.startedNums);var g=c.numMinRecallProb;c=c.minFound?{found:!0,num:g,topic:l(g)}:{found:!1};a("pickedQuiz",c)},function(b){a("seeAll")},h,t)});
a.mount("#app");var B={BK:"books",WB:"web",OF:"official documents",NM:"newspapers and magazines",SP:"spoken"};f.exports={tono:tono,koredb:v,factTable:n,quizTable:w,schemaBuilder:p}},{choo:6,"choo/html":5}],2:[function(a,f,d){(function(k){function d(b,c){if(b===c)return 0;for(var a=b.length,g=c.length,e=0,h=Math.min(a,g);e<h;++e)if(b[e]!==c[e]){a=b[e];g=c[e];break}return a<g?-1:g<a?1:0}function e(b){return k.Buffer&&"function"===typeof k.Buffer.isBuffer?k.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}
function b(b){return e(b)||"function"!==typeof k.ArrayBuffer?!1:"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(b):b?b instanceof DataView||b.buffer&&b.buffer instanceof ArrayBuffer?!0:!1:!1}function c(b){if(n.isFunction(b))return C?b.name:(b=b.toString().match(F))&&b[1]}function g(b,c){return"string"===typeof b?b.length<c?b:b.slice(0,c):b}function r(b){if(C||!n.isFunction(b))return n.inspect(b);b=c(b);return"[Function"+(b?": "+b:"")+"]"}function x(b,c,a,g,e){throw new z.AssertionError({message:a,
actual:b,expected:c,operator:g,stackStartFunction:e});}function l(b,c){b||x(b,!0,c,"\x3d\x3d",z.ok)}function h(c,a,g,h){if(c===a)return!0;if(e(c)&&e(a))return 0===d(c,a);if(n.isDate(c)&&n.isDate(a))return c.getTime()===a.getTime();if(n.isRegExp(c)&&n.isRegExp(a))return c.source===a.source&&c.global===a.global&&c.multiline===a.multiline&&c.lastIndex===a.lastIndex&&c.ignoreCase===a.ignoreCase;if(null!==c&&"object"===typeof c||null!==a&&"object"===typeof a){if(!b(c)||!b(a)||Object.prototype.toString.call(c)!==
Object.prototype.toString.call(a)||c instanceof Float32Array||c instanceof Float64Array){if(e(c)!==e(a))return!1;h=h||{actual:[],expected:[]};var l=h.actual.indexOf(c);if(-1!==l&&l===h.expected.indexOf(a))return!0;h.actual.push(c);h.expected.push(a);return u(c,a,g,h)}return 0===d(new Uint8Array(c.buffer),new Uint8Array(a.buffer))}return g?c===a:c==a}function t(b){return"[object Arguments]"==Object.prototype.toString.call(b)}function u(b,c,a,g){if(null===b||void 0===b||null===c||void 0===c)return!1;
if(n.isPrimitive(b)||n.isPrimitive(c))return b===c;if(a&&Object.getPrototypeOf(b)!==Object.getPrototypeOf(c))return!1;var e=t(b),l=t(c);if(e&&!l||!e&&l)return!1;if(e)return b=B.call(b),c=B.call(c),h(b,c,a);var e=E(b),r=E(c);if(e.length!==r.length)return!1;e.sort();r.sort();for(l=e.length-1;0<=l;l--)if(e[l]!==r[l])return!1;for(l=e.length-1;0<=l;l--)if(r=e[l],!h(b[r],c[r],a,g))return!1;return!0}function y(b,c,a){h(b,c,!0)&&x(b,c,a,"notDeepStrictEqual",y)}function p(b,c){if(!b||!c)return!1;if("[object RegExp]"==
Object.prototype.toString.call(c))return c.test(b);try{if(b instanceof c)return!0}catch(J){}return Error.isPrototypeOf(c)?!1:!0===c.call({},b)}function v(b,c,a,e){if("function"!==typeof c)throw new TypeError('"block" argument must be a function');"string"===typeof a&&(e=a,a=null);try{c()}catch(L){var g=L}c=g;e=(a&&a.name?" ("+a.name+").":".")+(e?" "+e:".");b&&!c&&x(c,a,"Missing expected exception"+e);g="string"===typeof e;var h=!b&&n.isError(c),l=!b&&c&&!a;(h&&g&&p(c,a)||l)&&x(c,a,"Got unwanted exception"+
e);if(b&&c&&a&&!p(c,a)||!b&&c)throw c;}var n=a("util/"),w=Object.prototype.hasOwnProperty,B=Array.prototype.slice,C=function(){return"foo"===function(){}.name}(),z=f.exports=l,F=/\s*function\s+([^\(\s]*)\s*/;z.AssertionError=function(b){this.name="AssertionError";this.actual=b.actual;this.expected=b.expected;this.operator=b.operator;b.message?(this.message=b.message,this.generatedMessage=!1):(this.message=g(r(this.actual),128)+" "+this.operator+" "+g(r(this.expected),128),this.generatedMessage=!0);
var a=b.stackStartFunction||x;Error.captureStackTrace?Error.captureStackTrace(this,a):(b=Error(),b.stack&&(b=b.stack,a=c(a),a=b.indexOf("\n"+a),0<=a&&(a=b.indexOf("\n",a+1),b=b.substring(a+1)),this.stack=b))};n.inherits(z.AssertionError,Error);z.fail=x;z.ok=l;z.equal=function(b,c,a){b!=c&&x(b,c,a,"\x3d\x3d",z.equal)};z.notEqual=function(b,c,a){b==c&&x(b,c,a,"!\x3d",z.notEqual)};z.deepEqual=function(b,c,a){h(b,c,!1)||x(b,c,a,"deepEqual",z.deepEqual)};z.deepStrictEqual=function(b,c,a){h(b,c,!0)||x(b,
c,a,"deepStrictEqual",z.deepStrictEqual)};z.notDeepEqual=function(b,c,a){h(b,c,!1)&&x(b,c,a,"notDeepEqual",z.notDeepEqual)};z.notDeepStrictEqual=y;z.strictEqual=function(b,c,a){b!==c&&x(b,c,a,"\x3d\x3d\x3d",z.strictEqual)};z.notStrictEqual=function(b,c,a){b===c&&x(b,c,a,"!\x3d\x3d",z.notStrictEqual)};z.throws=function(b,c,a){v(!0,b,c,a)};z.doesNotThrow=function(b,c,a){v(!1,b,c,a)};z.ifError=function(b){if(b)throw b;};var E=Object.keys||function(b){var c=[],a;for(a in b)w.call(b,a)&&c.push(a);return c}}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"util/":25}],3:[function(a,f,d){function k(a,r,d){function g(b){if(Array.isArray(b))for(var c=0;c<b.length;c++){var a=b[c];if(Array.isArray(a))g(a);else{if("number"===typeof a||"boolean"===typeof a||"function"===typeof a||a instanceof Date||a instanceof RegExp)a=a.toString();if("string"===typeof a){if(t.lastChild&&"#text"===t.lastChild.nodeName){t.lastChild.nodeValue+=a;continue}a=m.createTextNode(a)}a&&
a.nodeType&&t.appendChild(a)}}}-1!==c.indexOf(a)&&(r.namespace="http://www.w3.org/2000/svg");var h=!1;r.namespace&&(h=r.namespace,delete r.namespace);if(h)var t=m.createElementNS(h,a);else{if("!--"===a)return m.createComment(r.comment);t=m.createElement(a)}if(r.onload||r.onunload){var f=r.onload||function(){},x=r.onunload||function(){};e(t,function(){f(t)},function(){x(t)},k.caller.caller.caller);delete r.onload;delete r.onunload}for(var p in r)if(r.hasOwnProperty(p)){a=p.toLowerCase();var v=r[p];
"classname"===a&&(p=a="class");"htmlFor"===p&&(p="for");if(b[a])if("true"===v)v=a;else if("false"===v)continue;"on"===a.slice(0,2)?t[p]=v:h?"xlink:href"===p?t.setAttributeNS("http://www.w3.org/1999/xlink",p,v):/^xmlns($|:)/i.test(p)||t.setAttributeNS(null,p,v):t.setAttribute(p,v)}g(d);return t}var m=a("global/document");d=a("hyperx");var e=a("on-load"),b={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,selected:1,willvalidate:1},c="svg altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph mpath path pattern polygon polyline radialGradient rect set stop switch symbol text textPath title tref tspan use view vkern".split(" ");
f.exports=d(k,{comments:!0});f.exports.default=f.exports;f.exports.createElement=k},{"global/document":8,hyperx:11,"on-load":21}],4:[function(a,f,d){},{}],5:[function(a,f,d){f.exports=a("bel")},{bel:3}],6:[function(a,f,d){function k(){var b=window.location.pathname.replace(/\/$/,""),c=window.location.hash.replace(/^#/,"/");return b+c}var m=a("document-ready"),e=a("nanohistory"),b=a("nanorouter"),c=a("nanomount"),g=a("nanomorph"),r=a("nanohref"),x=a("nanoraf"),l=a("nanobus"),h=a("assert");f.exports=
function(a){function d(){C=n(k());B=x(function(){v&&f&&window.performance.mark("choo:renderStart");var b=n(k());C=g(C,b);h.notEqual(C,b,"choo.start: a different node type was returned as the root node on a rerender. Make sure that the root node is always the same type to prevent the application from being unmounted.");v&&f&&(window.performance.mark("choo:renderEnd"),window.performance.measure("choo:render","choo:renderStart","choo:renderEnd"))});w.prependListener("render",B);!1!==a.history&&(e(function(b){w.emit("pushState")}),
w.prependListener("pushState",function(b){b&&window.history.pushState({},null,b);w.emit("render");setTimeout(function(){var b=window.location.hash;if(b)try{var c=document.querySelector(b);c&&c.scrollIntoView(!0)}catch(D){}},0)}),!1!==a.href&&r(function(b){b=b.href;b!==window.location.href&&w.emit("pushState",b)}));m(function(){w.emit("DOMContentLoaded")});return C}function t(b,c){w.emit(b,c)}a=a||{};var f=void 0===a.timing?!0:a.timing,v="undefined"!==typeof window&&window.performance&&window.performance.mark,
n=b({default:a.defaultRoute||"/404",curry:!0}),w=l(),B=null,C=null,z={};return{toString:function(b,c){z=c||{};b=n(b);h.equal();return b.toString()},use:function(b){b(z,w)},mount:function(b){var a=d();m(function(){var e=document.querySelector(b);h.ok(e,"choo.mount: could not query selector: "+b);c(e,a);C=e})},router:n,route:function(b,c){n.on(b,function(b){return function(){z.params=b;return c(z,t)}})},start:d}}},{assert:2,"document-ready":7,nanobus:12,nanohistory:13,nanohref:14,nanomorph:15,nanomount:18,
nanoraf:19,nanorouter:20}],7:[function(a,f,d){var k=a("assert");f.exports=function(a){k.notEqual(typeof document,"undefined","document-ready only runs in the browser");var e=document.readyState;if("complete"===e||"interactive"===e)return setTimeout(a,0);document.addEventListener("DOMContentLoaded",function(){a()})}},{assert:2}],8:[function(a,f,d){d="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};d="undefined"!==typeof d?d:"undefined"!==typeof window?
window:{};a=a("min-document");if("undefined"!==typeof document)var k=document;else(k=d["__GLOBAL_DOCUMENT_CACHE@4"])||(k=d["__GLOBAL_DOCUMENT_CACHE@4"]=a);f.exports=k},{"min-document":4}],9:[function(a,f,d){a="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};f.exports="undefined"!==typeof window?window:"undefined"!==typeof a?a:"undefined"!==typeof self?self:{}},{}],10:[function(a,f,d){f.exports=function(a){return function(e,b,c){for(var g in b)g in
k&&(b[k[g]]=b[g],delete b[g]);return a(e,b,c)}};var k={"class":"className","for":"htmlFor","http-equiv":"httpEquiv"}},{}],11:[function(a,f,d){var k=a("hyperscript-attribute-to-property");f.exports=function(a,b){function c(b){return"function"===typeof b?b:"string"===typeof b?b:b&&"object"===typeof b?b:e("",b)}b||(b={});var e=b.concat||function(b,c){return String(b)+String(c)};!1!==b.attrToProp&&(a=k(a));return function(g){function r(c){var a=[];7===h&&(h=4);for(var e=0;e<c.length;e++){var g=c.charAt(e);
if(1===h&&"\x3c"===g)d.length&&a.push([1,d]),d="",h=2;else if("\x3e"===g&&9!==h&&10!==h&&13!==h)2===h?a.push([2,d]):5===h?a.push([5,d]):8===h&&d.length&&a.push([8,d]),a.push([3]),d="",h=1;else if(13===h&&/-$/.test(d)&&"-"===g)b.comments&&a.push([8,d.substr(0,d.length-1)],[3]),d="",h=1;else if(2===h&&/^!--$/.test(d))b.comments&&a.push([2,d],[5,"comment"],[11]),d=g,h=13;else if(1===h||13===h)d+=g;else if(2===h&&/\s/.test(g))a.push([2,d]),d="",h=4;else if(2===h)d+=g;else if(4===h&&/[^\s"'=/]/.test(g))h=
5,d=g;else if(4===h&&/\s/.test(g))d.length&&a.push([5,d]),a.push([12]);else if(5===h&&/\s/.test(g))a.push([5,d]),d="",h=6;else if(5===h&&"\x3d"===g)a.push([5,d],[11]),d="",h=7;else if(5===h)d+=g;else if((6===h||4===h)&&"\x3d"===g)a.push([11]),h=7;else if((6===h||4===h)&&!/\s/.test(g))a.push([12]),/[\w-]/.test(g)?(d+=g,h=5):h=4;else if(7===h&&'"'===g)h=10;else if(7===h&&"'"===g)h=9;else if(10===h&&'"'===g)a.push([8,d],[12]),d="",h=4;else if(9===h&&"'"===g)a.push([8,d],[12]),d="",h=4;else if(7===h&&
!/\s/.test(g))h=8,e--;else if(8===h&&/\s/.test(g))a.push([8,d],[12]),d="",h=4;else if(8===h||9===h||10===h)d+=g}1===h&&d.length?(a.push([1,d]),d=""):8===h&&d.length?(a.push([8,d]),d=""):10===h&&d.length?(a.push([8,d]),d=""):9===h&&d.length?(a.push([8,d]),d=""):5===h&&(a.push([5,d]),d="");return a}for(var l,h=1,d="",k=arguments.length,f=[],p=0;p<g.length;p++)if(p<k-1){var v=arguments[p+1];l=r(g[p]);var n=h;10===n&&(n=8);9===n&&(n=8);7===n&&(n=8);4===n&&(n=5);l.push([0,n,v]);f.push.apply(f,l)}else f.push.apply(f,
r(g[p]));k=[null,{},[]];v=[[k,-1]];for(p=0;p<f.length;p++){n=v[v.length-1][0];l=f[p];var w=l[0];if(2===w&&/^\//.test(l[1]))l=v[v.length-1][1],1<v.length&&(v.pop(),v[v.length-1][0][2][l]=a(n[0],n[1],n[2].length?n[2]:void 0));else if(2===w)l=[l[1],{},[]],n[2].push(l),v.push([l,n[2].length-1]);else if(5===w||0===w&&5===l[1]){l="";for(var B;p<f.length;p++)if(5===f[p][0])l=e(l,f[p][1]);else if(0===f[p][0]&&5===f[p][1])if("object"!==typeof f[p][2]||l)l=e(l,f[p][2]);else for(B in f[p][2])f[p][2].hasOwnProperty(B)&&
!n[1][B]&&(n[1][B]=f[p][2][B]);else break;11===f[p][0]&&p++;for(w=p;p<f.length;p++)if(8===f[p][0]||5===f[p][0])n[1][l]=n[1][l]?e(n[1][l],f[p][1]):c(f[p][1]);else if(0!==f[p][0]||8!==f[p][1]&&5!==f[p][1]){!l.length||n[1][l]||p!==w||3!==f[p][0]&&12!==f[p][0]||(n[1][l]=l.toLowerCase());break}else n[1][l]=n[1][l]?e(n[1][l],f[p][2]):c(f[p][2])}else if(5===w)n[1][l[1]]=!0;else if(0===w&&5===l[1])n[1][l[2]]=!0;else if(3===w)m.test(n[0])&&v.length&&(l=v[v.length-1][1],v.pop(),v[v.length-1][0][2][l]=a(n[0],
n[1],n[2].length?n[2]:void 0));else if(0===w&&1===l[1])void 0===l[2]||null===l[2]?l[2]="":l[2]||(l[2]=e("",l[2])),Array.isArray(l[2][0])?n[2].push.apply(n[2],l[2]):n[2].push(l[2]);else if(1===w)n[2].push(l[1]);else if(11!==w&&12!==w)throw Error("unhandled: "+w);}1<k[2].length&&/^\s*$/.test(k[2][0])&&k[2].shift();if(2<k[2].length||2===k[2].length&&/\S/.test(k[2][1]))throw Error("multiple root elements must be wrapped in an enclosing tag");Array.isArray(k[2][0])&&"string"===typeof k[2][0][0]&&Array.isArray(k[2][0][2])&&
(k[2][0]=a(k[2][0][0],k[2][0][1],k[2][0][2]));return k[2][0]}};var m=/^(area|base|basefont|bgsound|br|col|command|embed|frame|hr|img|input|isindex|keygen|link|meta|param|source|track|wbr|!--|animate|animateTransform|circle|cursor|desc|ellipse|feBlend|feColorMatrix|feComposite|feConvolveMatrix|feDiffuseLighting|feDisplacementMap|feDistantLight|feFlood|feFuncA|feFuncB|feFuncG|feFuncR|feGaussianBlur|feImage|feMergeNode|feMorphology|feOffset|fePointLight|feSpecularLighting|feSpotLight|feTile|feTurbulence|font-face-format|font-face-name|font-face-uri|glyph|glyphRef|hkern|image|line|missing-glyph|mpath|path|polygon|polyline|rect|set|stop|tref|use|view|vkern)(?:[.#][a-zA-Z0-9\u007f-\uffff_:-]+)*$/},
{"hyperscript-attribute-to-property":10}],12:[function(a,f,d){function k(){if(!(this instanceof k))return new k;this._starListeners=[];this._listeners={}}var m=a("assert");f.exports=k;k.prototype.emit=function(a,b){m.equal(typeof a,"string","nanobus.emit: eventName should be type string");var c=this._listeners[a];c&&0<c.length&&this._emit(this.listeners(a),b);0<this._starListeners.length&&this._emit(this.listeners("*"),a,b);return this};k.prototype.on=k.prototype.addListener=function(a,b){m.equal(typeof a,
"string","nanobus.on: eventName should be type string");m.equal(typeof b,"function","nanobus.on: listener should be type function");"*"===a?this._starListeners.push(b):(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].push(b));return this};k.prototype.prependListener=function(a,b){m.equal(typeof a,"string","nanobus.prependListener: eventName should be type string");m.equal(typeof b,"function","nanobus.prependListener: listener should be type function");"*"===a?this._starListeners.unshift(b):
(this._listeners[a]||(this._listeners[a]=[]),this._listeners[a].unshift(b));return this};k.prototype.once=function(a,b){function c(){b.apply(g,arguments);g.removeListener(a,c)}m.equal(typeof a,"string","nanobus.once: eventName should be type string");m.equal(typeof b,"function","nanobus.once: listener should be type function");var g=this;this.on(a,c);return this};k.prototype.prependOnceListener=function(a,b){function c(){b.apply(g,arguments);g.removeListener(a,c)}m.equal(typeof a,"string","nanobus.prependOnceListener: eventName should be type string");
m.equal(typeof b,"function","nanobus.prependOnceListener: listener should be type function");var g=this;this.prependListener(a,c);return this};k.prototype.removeListener=function(a,b){function c(b,a){if(b&&(a=b.indexOf(a),-1!==a))return b.splice(a,1),!0}m.equal(typeof a,"string","nanobus.removeListener: eventName should be type string");m.equal(typeof b,"function","nanobus.removeListener: listener should be type function");if("*"===a){if(c(this._starListeners,b))return this}else if(c(this._listeners[a],
b))return this};k.prototype.removeAllListeners=function(a){a?"*"===a?this._starListeners=[]:this._listeners[a]=[]:(this._starListeners=[],this._listeners={});return this};k.prototype.listeners=function(a){a="*"!==a?this._listeners[a]:this._starListeners;var b=[];if(a)for(var c=a.length,g=0;g<c;g++)b.push(a[g]);return b};k.prototype._emit=function(a,b,c){c||(c=b,b=null);for(var g=a.length,e=0;e<g;e++){var d=a[e];b?d(b,c):d(c)}}},{assert:2}],13:[function(a,f,d){var k=a("assert");f.exports=function(a){k.equal(typeof a,
"function","nanohistory: cb must be type function");window.onpopstate=function(){a(document.location)}}},{assert:2}],14:[function(a,f,d){var k=a("assert");f.exports=function(a,b){k.equal(typeof a,"function","nanohref: cb must be type function");b=b||window.document;window.onclick=function(c){if(!(c.button&&0!==c.button||c.ctrlKey||c.metaKey||c.altKey||c.shiftKey)){var g=function x(a){if(a&&a!==b)return"a"!==a.localName||void 0===a.href||window.location.host!==a.host?x(a.parentNode):a}(c.target);g&&
!g.hasAttribute(m)&&(c.preventDefault(),a(g))}}};var m="data-no-routing"},{assert:2}],15:[function(a,f,d){function k(b,a){if(a){if(b){if(b.isSameNode&&b.isSameNode(a))return a;if(b.tagName!==a.tagName)return b;e(b,a);if(b.childNodes&&a.childNodes)for(var c=Math.max(a.childNodes.length,b.childNodes.length),g=0,d=0,h=0;h<c;h++,g++,d++){var f=a.childNodes[d],m=k(b.childNodes[g],f);m?f?m!==f&&(a.replaceChild(m,f),g--):m&&(a.appendChild(m),g--):f&&(a.removeChild(f),d--)}return a}return null}return b}var m=
a("assert"),e=a("./lib/morph"),b=/^data-onloadid/;f.exports=function(a,g){m.equal(typeof a,"object","nanomorph: oldTree should be an object");m.equal(typeof g,"object","nanomorph: newTree should be an object");if(g&&a&&1===a.nodeType&&1===g.nodeType)for(var c=a.attributes,e,d,h=0,f=c.length;h<f;h++)if(e=c[h],d=e.name,b.test(d)){g.setAttribute(d,e.value);break}return k(g,a)}},{"./lib/morph":17,assert:2}],16:[function(a,f,d){f.exports="onclick ondblclick onmousedown onmouseup onmouseover onmousemove onmouseout onmouseenter onmouseleave ondragstart ondrag ondragenter ondragleave ondragover ondrop ondragend onkeydown onkeypress onkeyup onunload onabort onerror onresize onscroll onselect onchange onsubmit onreset onfocus onblur oninput oncontextmenu onfocusin onfocusout".split(" ")},
{}],17:[function(a,f,d){function k(b,a,g){b[g]!==a[g]&&(a[g]=b[g],b[g]?a.setAttribute(g,""):a.removeAttribute(g,""))}var m=a("./events"),e=m.length;f.exports=function(b,a){var c=b.nodeType,d=b.nodeName;if(1===c){for(var f=a.attributes,l=b.attributes,h,t,u,y,p=l.length-1;0<=p;--p)u=l[p],y=u.name,h=u.namespaceURI,t=u.value,h?(y=u.localName||y,u=a.getAttributeNS(h,y),u!==t&&a.setAttributeNS(h,y,t)):(u=a.getAttribute(y),u!==t&&("null"===t||"undefined"===t?a.removeAttribute(y):a.setAttribute(y,t)));for(l=
f.length-1;0<=l;--l)u=f[l],!1!==u.specified&&(y=u.name,(h=u.namespaceURI)?(y=u.localName||y,b.hasAttributeNS(h,y)||a.removeAttributeNS(h,y)):b.hasAttributeNS(null,y)||a.removeAttribute(y))}if(3===c||8===c)a.nodeValue=b.nodeValue;if("INPUT"===d)(c=b.value,d=a.value,k(b,a,"checked"),k(b,a,"disabled"),b.hasAttributeNS(null,"value")&&"null"!==c)?c!==d?(a.setAttribute("value",c),a.value=c):"range"===a.type&&(a.value=c):(a.value="",a.removeAttribute("value"));else if("OPTION"===d)k(b,a,"selected");else if("TEXTAREA"===
d)c=b.value,c!==a.value&&(a.value=c),!a.firstChild||""===c&&a.firstChild.nodeValue===a.placeholder||(a.firstChild.nodeValue=c);else if("SELECT"===d&&!a.hasAttributeNS(null,"multiple")){c=0;for(d=a.firstChild;d;){if((f=d.nodeName)&&"OPTION"===f.toUpperCase()){if(d.hasAttributeNS(null,"selected"))break;c++}d=d.nextSibling}b.selectedIndex=c}for(c=0;c<e;c++)d=m[c],b[d]?a[d]=b[d]:a[d]&&(a[d]=void 0)}},{"./events":16}],18:[function(a,f,d){var k=a("nanomorph"),m=a("assert");f.exports=function(a,b){if("BODY"===
a.nodeName)for(var c=a.childNodes,d=0;d<c.length;d++)"SCRIPT"===c[d].nodeName&&b.appendChild(c[d].cloneNode(!0));b=k(a,b);m.equal(b,a,"nanomount: The target node "+b.outerHTML.nodeName+" is not the same type as the new node "+a.outerHTML.nodeName+".")}},{assert:2,nanomorph:15}],19:[function(a,f,d){var k=a("assert");f.exports=function(a,d){k.equal(typeof a,"function","nanoraf: render should be a function");k.ok("function"===typeof d||"undefined"===typeof d,"nanoraf: raf should be a function or undefined");
d||(d=window.requestAnimationFrame);var b=!1,c=null;return function(){null!==c||b||(b=!0,d(function(){b=!1;for(var d=c.length,e=Array(d),f=0;f<d;f++)e[f]=c[f];a.apply(a,e);c=null}));c=arguments}}},{assert:2}],20:[function(a,f,d){var k=a("wayfarer"),m=/file:\/\//.test("object"===typeof window&&window.location&&window.location.origin),e=/^(file:\/\/|\/)(.*.html?\/?)?/,b=/^(http(s)?(:\/\/))?(www.)?[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(\/{1})?/,c=/#/,g=/[?].*$/;f.exports=function(a){function d(a){return h?(a=
m?a.replace(e,""):a.replace(b,""),a=a.replace(g,"").replace(c,"/"),a!==u&&(u=a,r=f(a)),r()):f(a)}a=a||{};var f=k(a.default||"/404"),h=a.curry||!1,r=null,u=null;d.router=f;d.on=function(a,b){a=a.replace(/^[#/]/,"");f.on(a,b)};return d}},{wayfarer:26}],21:[function(a,f,d){function k(a,c){b[a][0]&&0===b[a][2]&&(b[a][0](c),b[a][2]=1)}function m(a,c){b[a][1]&&1===b[a][2]&&(b[a][1](c),b[a][2]=0)}function e(a,d){for(var g=Object.keys(b),h=0;h<a.length;h++){if(a[h]&&a[h].getAttribute&&a[h].getAttribute(c)){var f=
a[h].getAttribute(c);g.forEach(function(b){f===b&&d(b,a[h])})}0<a[h].childNodes.length&&e(a[h].childNodes,d)}}d=a("global/document");a=a("global/window");var b=Object.create(null),c="data-onloadid"+(new Date%9E6).toString(36),g=0;a&&a.MutationObserver&&(new MutationObserver(function(a){if(!(1>Object.keys(b).length))for(var d=0;d<a.length;d++)if(a[d].attributeName===c){var g=a[d],h=k,f=m,r=g.target.getAttribute(c),y=g.oldValue;y&&r&&b[y][3]===b[r][3]?b[r]=b[g.oldValue]:(b[g.oldValue]&&f(g.oldValue,
g.target),b[r]&&h(r,g.target))}else e(a[d].removedNodes,m),e(a[d].addedNodes,k)})).observe(d.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[c]});f.exports=function x(a,d,e,f){d=d||function(){};e=e||function(){};a.setAttribute(c,"o"+g);b["o"+g]=[d,e,0,f||x.caller];g+=1;return a}},{"global/document":8,"global/window":9}],22:[function(a,f,d){function k(){throw Error("setTimeout has not been defined");}function m(){throw Error("clearTimeout has not been defined");}function e(a){if(l===
setTimeout)return setTimeout(a,0);if((l===k||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(n){try{return l.call(null,a,0)}catch(w){return l.call(this,a,0)}}}function b(a){if(h===clearTimeout)return clearTimeout(a);if((h===m||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(a);try{return h(a)}catch(n){try{return h.call(null,a)}catch(w){return h.call(this,a)}}}function c(){u&&y&&(u=!1,y.length?t=y.concat(t):p=-1,t.length&&g())}function g(){if(!u){var a=e(c);u=!0;for(var d=
t.length;d;){y=t;for(t=[];++p<d;)y&&y[p].run();p=-1;d=t.length}y=null;u=!1;b(a)}}function r(a,b){this.fun=a;this.array=b}function x(){}a=f.exports={};try{var l="function"===typeof setTimeout?setTimeout:k}catch(v){l=k}try{var h="function"===typeof clearTimeout?clearTimeout:m}catch(v){h=m}var t=[],u=!1,y,p=-1;a.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];t.push(new r(a,b));1!==t.length||u||e(g)};r.prototype.run=function(){this.fun.apply(null,
this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=x;a.addListener=x;a.once=x;a.off=x;a.removeListener=x;a.removeAllListeners=x;a.emit=x;a.prependListener=x;a.prependOnceListener=x;a.listeners=function(a){return[]};a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],23:[function(a,f,d){f.exports="function"===
typeof Object.create?function(a,d){a.super_=d;a.prototype=Object.create(d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,d){a.super_=d;var e=function(){};e.prototype=d.prototype;a.prototype=new e;a.prototype.constructor=a}},{}],24:[function(a,f,d){f.exports=function(a){return a&&"object"===typeof a&&"function"===typeof a.copy&&"function"===typeof a.fill&&"function"===typeof a.readUInt8}},{}],25:[function(a,f,d){(function(f,m){function e(a,g){var e={seen:[],
stylize:c};3<=arguments.length&&(e.depth=arguments[2]);4<=arguments.length&&(e.colors=arguments[3]);p(g)?e.showHidden=g:g&&d._extend(e,g);w(e.showHidden)&&(e.showHidden=!1);w(e.depth)&&(e.depth=2);w(e.colors)&&(e.colors=!1);w(e.customInspect)&&(e.customInspect=!0);e.colors&&(e.stylize=b);return k(e,a,e.depth)}function b(a,b){return(b=e.styles[b])?"\u001b["+e.colors[b][0]+"m"+a+"\u001b["+e.colors[b][1]+"m":a}function c(a,b){return a}function g(a){var b={};a.forEach(function(a,c){b[a]=!0});return b}
function k(a,b,c){if(a.customInspect&&b&&E(b.inspect)&&b.inspect!==d.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(c,a);n(e)||(e=k(a,e,c));return e}if(e=x(a,b))return e;var f=Object.keys(b),m=g(f);a.showHidden&&(f=Object.getOwnPropertyNames(b));if(F(b)&&(0<=f.indexOf("message")||0<=f.indexOf("description")))return l(b);if(0===f.length){if(E(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(B(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");
if(z(b))return a.stylize(Date.prototype.toString.call(b),"date");if(F(b))return l(b)}var e="",H=!1,r=["{","}"];y(b)&&(H=!0,r=["[","]"]);E(b)&&(e=" [Function"+(b.name?": "+b.name:"")+"]");B(b)&&(e=" "+RegExp.prototype.toString.call(b));z(b)&&(e=" "+Date.prototype.toUTCString.call(b));F(b)&&(e=" "+l(b));if(0===f.length&&(!H||0==b.length))return r[0]+e+r[1];if(0>c)return B(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);f=H?h(a,b,c,m,f):f.map(function(d){return t(a,
b,c,m,d,H)});a.seen.pop();return u(f,e,r)}function x(a,b){if(w(b))return a.stylize("undefined","undefined");if(n(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.stylize(b,"string");if(v(b))return a.stylize(""+b,"number");if(p(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function l(a){return"["+Error.prototype.toString.call(a)+"]"}function h(a,b,c,d,e){for(var g=[],f=0,h=b.length;f<h;++f)Object.prototype.hasOwnProperty.call(b,
String(f))?g.push(t(a,b,c,d,String(f),!0)):g.push("");e.forEach(function(e){e.match(/^\d+$/)||g.push(t(a,b,c,d,e,!0))});return g}function t(a,b,c,d,e,g){var f,h;b=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]};b.get?h=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(h=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,e)||(f="["+e+"]");h||(0>a.seen.indexOf(b.value)?(h=null===c?k(a,b.value,null):k(a,b.value,c-1),-1<h.indexOf("\n")&&(h=g?
h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special"));if(w(f)){if(g&&e.match(/^\d+$/))return h;f=JSON.stringify(""+e);f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.substr(1,f.length-2),f=a.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=a.stylize(f,"string"))}return f+": "+h}function u(a,b,c){var d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&
d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function y(a){return Array.isArray(a)}function p(a){return"boolean"===typeof a}function v(a){return"number"===typeof a}function n(a){return"string"===typeof a}function w(a){return void 0===a}function B(a){return C(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function C(a){return"object"===typeof a&&null!==a}function z(a){return C(a)&&"[object Date]"===
Object.prototype.toString.call(a)}function F(a){return C(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function E(a){return"function"===typeof a}function A(a){return 10>a?"0"+a.toString(10):a.toString(10)}function D(){var a=new Date,b=[A(a.getHours()),A(a.getMinutes()),A(a.getSeconds())].join(":");return[a.getDate(),K[a.getMonth()],b].join(" ")}var J=/%[sdj%]/g;d.format=function(a){if(!n(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=
1,d=arguments,g=d.length,b=String(a).replace(J,function(a){if("%%"===a)return"%";if(c>=g)return a;switch(a){case "%s":return String(d[c++]);case "%d":return Number(d[c++]);case "%j":try{return JSON.stringify(d[c++])}catch(M){return"[Circular]"}default:return a}}),f=d[c];c<g;f=d[++c])b=null!==f&&C(f)?b+(" "+e(f)):b+(" "+f);return b};d.deprecate=function(a,b){if(w(m.process))return function(){return d.deprecate(a,b).apply(this,arguments)};if(!0===f.noDeprecation)return a;var c=!1;return function(){if(!c){if(f.throwDeprecation)throw Error(b);
f.traceDeprecation?console.trace(b):console.error(b);c=!0}return a.apply(this,arguments)}};var G={},I;d.debuglog=function(a){w(I)&&(I=f.env.NODE_DEBUG||"");a=a.toUpperCase();if(!G[a])if((new RegExp("\\b"+a+"\\b","i")).test(I)){var b=f.pid;G[a]=function(){var c=d.format.apply(d,arguments);console.error("%s %d: %s",a,b,c)}}else G[a]=function(){};return G[a]};d.inspect=e;e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,
39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=y;d.isBoolean=p;d.isNull=function(a){return null===a};d.isNullOrUndefined=function(a){return null==a};d.isNumber=v;d.isString=n;d.isSymbol=function(a){return"symbol"===typeof a};d.isUndefined=w;d.isRegExp=B;d.isObject=C;d.isDate=z;d.isError=F;d.isFunction=E;d.isPrimitive=function(a){return null===
a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};d.isBuffer=a("./support/isBuffer");var K="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",D(),d.format.apply(d,arguments))};d.inherits=a("inherits");d._extend=function(a,b){if(!b||!C(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":24,_process:22,inherits:23}],26:[function(a,f,d){function k(a){function b(a){m.notEqual(a,void 0,"'route' must be defined");for(var b=Array(arguments.length),c=1;c<b.length;c++)b[c]=arguments[c];if((c=f.match(a))&&c.cb||(c=f.match(d))&&c.cb)return b[0]=c.params,c.cb.apply(null,b);throw Error("route '"+a+"' did not match");}if(!(this instanceof k))return new k(a);var d=(a||"").replace(/^\//,""),f=e();b._trie=f;b.emit=b;b.on=function(a,
c){m.equal(typeof a,"string");m.equal(typeof c,"function");a=a||"/";c&&c._wayfarer&&c._trie?f.mount(a,c._trie.trie):f.create(a).cb=c;return b};b._wayfarer=!0;return b}var m=a("assert"),e=a("./trie");f.exports=k},{"./trie":27,assert:2}],27:[function(a,f,d){function k(){if(!(this instanceof k))return new k;this.trie={nodes:{}}}var m=a("xtend/mutable"),e=a("assert"),b=a("xtend");f.exports=k;k.prototype.create=function(a){function b(a,d){var e=c.hasOwnProperty(a)&&c[a];if(!1===e)return d;if(/^:|^\*/.test(e)){if(d.nodes.hasOwnProperty("$$"))var g=
d.nodes.$$;else g={nodes:{}},d.nodes.$$=g;"*"===e[0]&&(d.wildcard=!0);d.name=e.replace(/^:|^\*/,"")}else d.nodes.hasOwnProperty(e)?g=d.nodes[e]:(g={nodes:{}},d.nodes[e]=g);return b(a+1,g)}e.equal(typeof a,"string","route should be a string");var c=a.replace(/^\//,"").split("/");return b(0,this.trie)};k.prototype.match=function(a){function c(a,b){if(void 0!==b){var e=d[a];return void 0===e?b:b.nodes.hasOwnProperty(e)?c(a+1,b.nodes[e]):b.wildcard?(f.wildcard=decodeURIComponent(d.slice(a).join("/")),
b.nodes.$$):b.name?(f[b.name]=decodeURIComponent(e),c(a+1,b.nodes.$$)):c(a+1)}}e.equal(typeof a,"string","route should be a string");var d=a.replace(/^\//,"").split("/"),f={};if(a=c(0,this.trie))return a=b(a),a.params=f,a};k.prototype.mount=function(a,b){e.equal(typeof a,"string","route should be a string");e.equal(typeof b,"object","trie should be a object");a=a.replace(/^\//,"").split("/");var c=null,d=null;if(1===a.length)d=a[0],c=this.create(d);else var f=a.splice(0,a.length-1).join("/"),d=a[0],
c=this.create(f);m(c.nodes,b.nodes);b.name&&(c.name=b.name);c.nodes[""]&&(Object.keys(c.nodes[""]).forEach(function(a){"nodes"!==a&&(c[a]=c.nodes[""][a])}),m(c.nodes,c.nodes[""].nodes),delete c.nodes[""].nodes)}},{assert:2,xtend:28,"xtend/mutable":29}],28:[function(a,f,d){f.exports=function(){for(var a={},d=0;d<arguments.length;d++){var b=arguments[d],c;for(c in b)k.call(b,c)&&(a[c]=b[c])}return a};var k=Object.prototype.hasOwnProperty},{}],29:[function(a,f,d){f.exports=function(a){for(var d=1;d<
arguments.length;d++){var b=arguments[d],c;for(c in b)k.call(b,c)&&(a[c]=b[c])}return a};var k=Object.prototype.hasOwnProperty},{}]},{},[1])(1)});
